@model CTY_DVVT.Models.BaoCaoXe

@{
    ViewBag.Title = "Thêm bảng ghi nhận";
    Layout = "~/Views/Shared/_LayoutPageManage.cshtml";
}

<h2 class="text-center mt-2">Thêm báo cáo Xe</h2>
<div class="container">
    @using (Html.BeginForm("Create", "BaoCaoXe", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4 col-sm-12 fw-bold">
                <label for="NgayThang">Ngày tháng</label>
                <input type="date" class="form-control" id="NgayThang" name="NgayThang" />
                @Html.ValidationMessageFor(row => row.NgayThang)
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row mt-2">
            <div class="col-md-4"></div>
            <div class="col-md-4 col-sm-12 fw-bold">
                @Html.LabelFor(row => row.XeId, "Xe")
                @Html.DropDownListFor(row => row.XeId, new SelectList(ViewBag.Xe, "XeId", "BSXe"), "Please select ...", new { @class = "form-control" })
                @Html.ValidationMessageFor(row => row.XeId)
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row mt-2">
            <div class="col-md-4"></div>
            <div class="col-md-4 col-sm-12 fw-bold">
                @Html.LabelFor(row => row.Tien, "Tiền sửa xe")
                @Html.TextBoxFor(row => row.Tien, new { @class = "form-control", placeholder = "Money ...", @Value="0" })
                @Html.ValidationMessageFor(row => row.Tien)
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row mt-2">
            <div class="col-md-4"></div>
            <div class="col-md-4 col-sm-12 fw-bold">
                @Html.LabelFor(row => row.GhiChu, "Báo cáo")
                @Html.TextBoxFor(row => row.GhiChu, new { @class = "form-control", placeholder = "Báo cáo ..." })
                @Html.ValidationMessageFor(row => row.GhiChu)
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row mt-2">
            <div class="col-md-4"></div>
            <div class="col-md-4 col-sm-12 text-center">
                <button type="submit" id="final" class="btn btn-success"><i class="fa fa-floppy-o" aria-hidden="true"></i> Thêm</button>
                <a href="/baocaoxe/index/@ViewBag.XeID" class="btn btn-danger"><i class="fa fa-trash" aria-hidden="true"></i> Hủy</a>
            </div>
            <div class="col-md-4"></div>
        </div>
    }
</div>

<script>

    function delcomma(_obj) {
        if (parseInt(_obj) == 0)
            return parseInt(_obj);
        else
            return parseInt(_obj.replaceAll(',', '').replaceAll('.', ''));
    };

    $(function () {

        $("#final").click(function () {
            $("#Tien").val(delcomma($("#Tien").val()));
        });
    });
</script>
